<svg viewBox="0 0 1400 900" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="1400" height="900" fill="#f8f9fa"/>
  
  <!-- Title and Subtitle -->
  <text x="700" y="30" text-anchor="middle" font-size="26" font-weight="bold" fill="#2c3e50">
    Kubernetes Microservices Platform - Production Architecture
  </text>
  <text x="700" y="55" text-anchor="middle" font-size="14" fill="#7f8c8d">
    3-Node Beelink SER5 Max Cluster | 96GB RAM | 48 Threads | Ubuntu 24.04
  </text>
  
  <!-- Network Info Bar -->
  <rect x="50" y="70" width="1300" height="30" fill="#e8f4f8" stroke="#3498db" stroke-width="1" rx="5"/>
  <text x="700" y="90" text-anchor="middle" font-size="12" fill="#2c3e50">
    Cluster: 192.168.68.0/24 | Pods: 10.244.0.0/16 | Services: 10.96.0.0/12 | LoadBalancer Pool: 192.168.68.200-250
  </text>
  
  <!-- Main Cluster Border -->
  <rect x="50" y="110" width="1300" height="750" fill="none" stroke="#3498db" stroke-width="2" stroke-dasharray="5,5" rx="10"/>
  
  <!-- Control Plane Node -->
  <g id="control-plane">
    <rect x="70" y="130" width="400" height="350" fill="#e8f4f8" stroke="#2980b9" stroke-width="2" rx="5"/>
    <rect x="80" y="140" width="380" height="35" fill="#2980b9" rx="3"/>
    <text x="270" y="163" text-anchor="middle" font-size="14" font-weight="bold" fill="white">k8s-master-01 (192.168.68.86)</text>
    
    <!-- Control Plane Components -->
    <text x="270" y="195" text-anchor="middle" font-size="12" font-weight="bold" fill="#2c3e50">Control Plane Components</text>
    
    <g id="cp-components">
      <rect x="90" y="210" width="80" height="40" fill="#34495e" stroke="#2c3e50" rx="3"/>
      <text x="130" y="235" text-anchor="middle" font-size="10" fill="white">API Server</text>
      
      <rect x="180" y="210" width="80" height="40" fill="#34495e" stroke="#2c3e50" rx="3"/>
      <text x="220" y="235" text-anchor="middle" font-size="10" fill="white">etcd</text>
      
      <rect x="270" y="210" width="80" height="40" fill="#34495e" stroke="#2c3e50" rx="3"/>
      <text x="310" y="235" text-anchor="middle" font-size="10" fill="white">Scheduler</text>
      
      <rect x="360" y="210" width="90" height="40" fill="#34495e" stroke="#2c3e50" rx="3"/>
      <text x="405" y="235" text-anchor="middle" font-size="10" fill="white">Controller Mgr</text>
    </g>
    
    <!-- CNI -->
    <rect x="90" y="260" width="360" height="40" fill="#8e44ad" stroke="#6c3483" rx="3"/>
    <text x="270" y="285" text-anchor="middle" font-size="11" font-weight="bold" fill="white">Cilium CNI (eBPF-based Networking)</text>
    
    <!-- CoreDNS -->
    <rect x="90" y="310" width="170" height="40" fill="#3498db" stroke="#2980b9" rx="3"/>
    <text x="175" y="335" text-anchor="middle" font-size="11" fill="white">CoreDNS</text>
    
    <!-- Metrics Server -->
    <rect x="280" y="310" width="170" height="40" fill="#3498db" stroke="#2980b9" rx="3"/>
    <text x="365" y="335" text-anchor="middle" font-size="11" fill="white">Metrics Server</text>
    
    <!-- Node Resources -->
    <rect x="90" y="360" width="360" height="100" fill="#ecf0f1" stroke="#95a5a6" rx="3"/>
    <text x="270" y="380" text-anchor="middle" font-size="11" font-weight="bold" fill="#2c3e50">Node Resources</text>
    <text x="120" y="400" font-size="10" fill="#2c3e50">CPU: Ryzen 7 6800U (8C/16T)</text>
    <text x="120" y="415" font-size="10" fill="#2c3e50">RAM: 32GB LPDDR5</text>
    <text x="120" y="430" font-size="10" fill="#2c3e50">Storage: NVMe SSD</text>
    <text x="120" y="445" font-size="10" fill="#2c3e50">Network: 2.5GbE</text>
  </g>
  
  <!-- Worker Node 1 -->
  <g id="worker-1">
    <rect x="490" y="130" width="400" height="350" fill="#f0f8ff" stroke="#2980b9" stroke-width="2" rx="5"/>
    <rect x="500" y="140" width="380" height="35" fill="#2980b9" rx="3"/>
    <text x="690" y="163" text-anchor="middle" font-size="14" font-weight="bold" fill="white">k8s-worker-01 (192.168.68.88)</text>
    
    <!-- Microservices -->
    <text x="690" y="195" text-anchor="middle" font-size="12" font-weight="bold" fill="#2c3e50">Application Workloads</text>
    
    <g id="microservices">
      <rect x="510" y="210" width="110" height="40" fill="#ff6b6b" stroke="#c92a2a" rx="3"/>
      <text x="565" y="230" text-anchor="middle" font-size="10" fill="white">Frontend</text>
      <text x="565" y="243" text-anchor="middle" font-size="8" fill="white">nginx (3 pods)</text>
      
      <rect x="630" y="210" width="110" height="40" fill="#4ecdc4" stroke="#087f5b" rx="3"/>
      <text x="685" y="230" text-anchor="middle" font-size="10" fill="white">API Gateway</text>
      <text x="685" y="243" text-anchor="middle" font-size="8" fill="white">nginx (2 pods)</text>
      
      <rect x="750" y="210" width="110" height="40" fill="#845ec2" stroke="#5f3dc4" rx="3"/>
      <text x="805" y="230" text-anchor="middle" font-size="10" fill="white">User Service</text>
      <text x="805" y="243" text-anchor="middle" font-size="8" fill="white">Node.js (2 pods)</text>
    </g>
    
    <!-- Databases -->
    <text x="690" y="270" text-anchor="middle" font-size="12" font-weight="bold" fill="#2c3e50">Databases</text>
    
    <g id="databases">
      <rect x="510" y="285" width="110" height="40" fill="#336791" stroke="#1e3a5f" rx="3"/>
      <text x="565" y="305" text-anchor="middle" font-size="10" fill="white">PostgreSQL</text>
      <text x="565" y="318" text-anchor="middle" font-size="8" fill="white">StatefulSet</text>
      
      <rect x="630" y="285" width="110" height="40" fill="#dc382d" stroke="#a41e22" rx="3"/>
      <text x="685" y="305" text-anchor="middle" font-size="10" fill="white">Redis</text>
      <text x="685" y="318" text-anchor="middle" font-size="8" fill="white">Cache (1GB)</text>
      
      <rect x="750" y="285" width="110" height="40" fill="#ff6600" stroke="#cc5200" rx="3"/>
      <text x="805" y="305" text-anchor="middle" font-size="10" fill="white">RabbitMQ</text>
      <text x="805" y="318" text-anchor="middle" font-size="8" fill="white">Message Queue</text>
    </g>
    
    <!-- Storage -->
    <rect x="510" y="335" width="350" height="40" fill="#ffa94d" stroke="#fd7e14" rx="3"/>
    <text x="685" y="355" text-anchor="middle" font-size="11" fill="white">Longhorn Distributed Storage</text>
    <text x="685" y="368" text-anchor="middle" font-size="9" fill="white">Dynamic PV Provisioning | 2 Replicas</text>
    
    <!-- Node Resources -->
    <rect x="510" y="385" width="350" height="75" fill="#ecf0f1" stroke="#95a5a6" rx="3"/>
    <text x="685" y="405" text-anchor="middle" font-size="11" font-weight="bold" fill="#2c3e50">Node Utilization</text>
    <text x="540" y="425" font-size="10" fill="#2c3e50">CPU: ~40% (6.4/16 threads)</text>
    <text x="540" y="440" font-size="10" fill="#2c3e50">Memory: ~35% (11.2/32GB)</text>
    <text x="700" y="425" font-size="10" fill="#2c3e50">Pods: 12 Running</text>
    <text x="700" y="440" font-size="10" fill="#2c3e50">Storage: 50GB Used</text>
  </g>
  
  <!-- Worker Node 2 -->
  <g id="worker-2">
    <rect x="910" y="130" width="420" height="350" fill="#f0f8ff" stroke="#2980b9" stroke-width="2" rx="5"/>
    <rect x="920" y="140" width="400" height="35" fill="#2980b9" rx="3"/>
    <text x="1120" y="163" text-anchor="middle" font-size="14" font-weight="bold" fill="white">k8s-worker-02 (192.168.68.83)</text>
    
    <!-- More Microservices -->
    <text x="1120" y="195" text-anchor="middle" font-size="12" font-weight="bold" fill="#2c3e50">Additional Services</text>
    
    <g id="more-services">
      <rect x="930" y="210" width="110" height="40" fill="#845ec2" stroke="#5f3dc4" rx="3"/>
      <text x="985" y="230" text-anchor="middle" font-size="10" fill="white">Product Service</text>
      <text x="985" y="243" text-anchor="middle" font-size="8" fill="white">Python (2 pods)</text>
      
      <rect x="1050" y="210" width="110" height="40" fill="#845ec2" stroke="#5f3dc4" rx="3"/>
      <text x="1105" y="230" text-anchor="middle" font-size="10" fill="white">Order Service</text>
      <text x="1105" y="243" text-anchor="middle" font-size="8" fill="white">Java (2 pods)</text>
      
      <rect x="1170" y="210" width="140" height="40" fill="#845ec2" stroke="#5f3dc4" rx="3"/>
      <text x="1240" y="230" text-anchor="middle" font-size="10" fill="white">Notification Service</text>
      <text x="1240" y="243" text-anchor="middle" font-size="8" fill="white">Python (1 pod)</text>
    </g>
    
    <!-- Monitoring Stack -->
    <text x="1120" y="270" text-anchor="middle" font-size="12" font-weight="bold" fill="#2c3e50">Monitoring & Observability</text>
    
    <g id="monitoring">
      <rect x="930" y="285" width="90" height="40" fill="#ff9f1a" stroke="#e67700" rx="3"/>
      <text x="975" y="305" text-anchor="middle" font-size="10" fill="white">Prometheus</text>
      <text x="975" y="318" text-anchor="middle" font-size="8" fill="white">.201:9090</text>
      
      <rect x="1030" y="285" width="90" height="40" fill="#f46a54" stroke="#e94b35" rx="3"/>
      <text x="1075" y="305" text-anchor="middle" font-size="10" fill="white">Grafana</text>
      <text x="1075" y="318" text-anchor="middle" font-size="8" fill="white">.202:3000</text>
      
      <rect x="1130" y="285" width="90" height="40" fill="#ff6b6b" stroke="#c92a2a" rx="3"/>
      <text x="1175" y="305" text-anchor="middle" font-size="10" fill="white">AlertManager</text>
      <text x="1175" y="318" text-anchor="middle" font-size="8" fill="white">.203:9093</text>
      
      <rect x="1230" y="285" width="80" height="40" fill="#00b4d8" stroke="#0077b6" rx="3"/>
      <text x="1270" y="305" text-anchor="middle" font-size="10" fill="white">Loki</text>
      <text x="1270" y="318" text-anchor="middle" font-size="8" fill="white">Logs</text>
    </g>
    
    <!-- GitOps -->
    <rect x="930" y="335" width="380" height="40" fill="#00d4aa" stroke="#00a884" rx="3"/>
    <text x="1120" y="355" text-anchor="middle" font-size="11" fill="white">ArgoCD GitOps Controller</text>
    <text x="1120" y="368" text-anchor="middle" font-size="9" fill="white">192.168.68.204 | Automated Deployments</text>
    
    <!-- Node Resources -->
    <rect x="930" y="385" width="380" height="75" fill="#ecf0f1" stroke="#95a5a6" rx="3"/>
    <text x="1120" y="405" text-anchor="middle" font-size="11" font-weight="bold" fill="#2c3e50">Node Utilization</text>
    <text x="960" y="425" font-size="10" fill="#2c3e50">CPU: ~45% (7.2/16 threads)</text>
    <text x="960" y="440" font-size="10" fill="#2c3e50">Memory: ~40% (12.8/32GB)</text>
    <text x="1130" y="425" font-size="10" fill="#2c3e50">Pods: 15 Running</text>
    <text x="1130" y="440" font-size="10" fill="#2c3e50">Storage: 70GB Used</text>
  </g>
  
  <!-- LoadBalancer Services Box -->
  <g id="loadbalancer-services">
    <rect x="70" y="500" width="1260" height="130" fill="#e7f5ff" stroke="#1c7ed6" stroke-width="2" rx="5"/>
    <text x="700" y="525" text-anchor="middle" font-size="14" font-weight="bold" fill="#2c3e50">MetalLB LoadBalancer Services</text>
    
    <!-- Service Grid -->
    <g id="service-grid">
      <!-- Row 1 -->
      <rect x="90" y="540" width="140" height="30" fill="#339af0" stroke="#1c7ed6" rx="3"/>
      <text x="160" y="558" text-anchor="middle" font-size="10" fill="white">NGINX Ingress (.200)</text>
      
      <rect x="240" y="540" width="140" height="30" fill="#339af0" stroke="#1c7ed6" rx="3"/>
      <text x="310" y="558" text-anchor="middle" font-size="10" fill="white">Prometheus (.201)</text>
      
      <rect x="390" y="540" width="140" height="30" fill="#339af0" stroke="#1c7ed6" rx="3"/>
      <text x="460" y="558" text-anchor="middle" font-size="10" fill="white">Grafana (.202)</text>
      
      <rect x="540" y="540" width="140" height="30" fill="#339af0" stroke="#1c7ed6" rx="3"/>
      <text x="610" y="558" text-anchor="middle" font-size="10" fill="white">AlertManager (.203)</text>
      
      <rect x="690" y="540" width="140" height="30" fill="#339af0" stroke="#1c7ed6" rx="3"/>
      <text x="760" y="558" text-anchor="middle" font-size="10" fill="white">ArgoCD (.204)</text>
      
      <rect x="840" y="540" width="140" height="30" fill="#339af0" stroke="#1c7ed6" rx="3"/>
      <text x="910" y="558" text-anchor="middle" font-size="10" fill="white">RabbitMQ Mgmt (.205)</text>
      
      <rect x="990" y="540" width="140" height="30" fill="#339af0" stroke="#1c7ed6" rx="3"/>
      <text x="1060" y="558" text-anchor="middle" font-size="10" fill="white">Longhorn UI (.206)</text>
      
      <rect x="1140" y="540" width="140" height="30" fill="#339af0" stroke="#1c7ed6" rx="3"/>
      <text x="1210" y="558" text-anchor="middle" font-size="10" fill="white">Frontend App (.210)</text>
    </g>
    
    <!-- Row 2 -->
    <rect x="90" y="580" width="140" height="30" fill="#339af0" stroke="#1c7ed6" rx="3"/>
    <text x="160" y="598" text-anchor="middle" font-size="10" fill="white">API Gateway (.211)</text>
    
    <text x="700" y="605" text-anchor="middle" font-size="11" fill="#2c3e50">Pool: 192.168.68.200-250 | Protocol: L2 Advertisement</text>
  </g>
  
  <!-- Ingress Flow -->
  <g id="ingress-flow">
    <rect x="70" y="650" width="400" height="190" fill="#fff4e6" stroke="#fd7e14" stroke-width="2" rx="5"/>
    <text x="270" y="675" text-anchor="middle" font-size="13" font-weight="bold" fill="#2c3e50">Ingress Traffic Flow</text>
    
    <!-- Flow Diagram -->
    <rect x="200" y="690" width="140" height="25" fill="#ff6b6b" rx="3"/>
    <text x="270" y="707" text-anchor="middle" font-size="10" fill="white">External Traffic</text>
    
    <line x1="270" y1="715" x2="270" y2="730" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
    
    <rect x="200" y="730" width="140" height="25" fill="#339af0" rx="3"/>
    <text x="270" y="747" text-anchor="middle" font-size="10" fill="white">MetalLB (.200)</text>
    
    <line x1="270" y1="755" x2="270" y2="770" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
    
    <rect x="200" y="770" width="140" height="25" fill="#4ecdc4" rx="3"/>
    <text x="270" y="787" text-anchor="middle" font-size="10" fill="white">NGINX Ingress</text>
    
    <line x1="270" y1="795" x2="270" y2="810" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
    
    <rect x="200" y="810" width="140" height="25" fill="#845ec2" rx="3"/>
    <text x="270" y="827" text-anchor="middle" font-size="10" fill="white">Services/Pods</text>
  </g>
  
  <!-- Storage Architecture -->
  <g id="storage-arch">
    <rect x="490" y="650" width="400" height="190" fill="#e8f8e8" stroke="#51cf66" stroke-width="2" rx="5"/>
    <text x="690" y="675" text-anchor="middle" font-size="13" font-weight="bold" fill="#2c3e50">Storage Architecture</text>
    
    <rect x="510" y="690" width="360" height="35" fill="#ffa94d" stroke="#fd7e14" rx="3"/>
    <text x="690" y="712" text-anchor="middle" font-size="11" fill="#2c3e50">Longhorn Distributed Storage</text>
    
    <text x="530" y="740" font-size="10" fill="#2c3e50">• StorageClass: fast-nvme (default)</text>
    <text x="530" y="755" font-size="10" fill="#2c3e50">• Replication Factor: 2</text>
    <text x="530" y="770" font-size="10" fill="#2c3e50">• Data Locality: best-effort</text>
    <text x="530" y="785" font-size="10" fill="#2c3e50">• Backup: Velero integration</text>
    
    <text x="530" y="810" font-size="10" font-weight="bold" fill="#2c3e50">Persistent Volumes:</text>
    <text x="530" y="825" font-size="9" fill="#2c3e50">PostgreSQL: 20Gi | Redis: 10Gi | RabbitMQ: 5Gi</text>
  </g>
  
  <!-- Security Policies -->
  <g id="security">
    <rect x="910" y="650" width="420" height="190" fill="#ffe8e8" stroke="#ff6b6b" stroke-width="2" rx="5"/>
    <text x="1120" y="675" text-anchor="middle" font-size="13" font-weight="bold" fill="#2c3e50">Security & Governance</text>
    
    <g id="security-items">
      <rect x="930" y="690" width="180" height="25" fill="#ff6b6b" stroke="#c92a2a" rx="3"/>
      <text x="1020" y="707" text-anchor="middle" font-size="10" fill="white">RBAC Policies</text>
      
      <rect x="1130" y="690" width="180" height="25" fill="#ff6b6b" stroke="#c92a2a" rx="3"/>
      <text x="1220" y="707" text-anchor="middle" font-size="10" fill="white">Network Policies</text>
      
      <rect x="930" y="725" width="180" height="25" fill="#ff6b6b" stroke="#c92a2a" rx="3"/>
      <text x="1020" y="742" text-anchor="middle" font-size="10" fill="white">Pod Security Standards</text>
      
      <rect x="1130" y="725" width="180" height="25" fill="#ff6b6b" stroke="#c92a2a" rx="3"/>
      <text x="1220" y="742" text-anchor="middle" font-size="10" fill="white">Secrets Encryption</text>
      
      <rect x="930" y="760" width="180" height="25" fill="#ff6b6b" stroke="#c92a2a" rx="3"/>
      <text x="1020" y="777" text-anchor="middle" font-size="10" fill="white">Service Accounts</text>
      
      <rect x="1130" y="760" width="180" height="25" fill="#ff6b6b" stroke="#c92a2a" rx="3"/>
      <text x="1220" y="777" text-anchor="middle" font-size="10" fill="white">TLS Certificates</text>
    </g>
    
    <text x="1120" y="810" text-anchor="middle" font-size="10" fill="#2c3e50">Namespace Isolation | Resource Quotas | Audit Logging</text>
    <text x="1120" y="825" text-anchor="middle" font-size="10" fill="#2c3e50">Image Scanning | Admission Controllers | OPA Policies</text>
  </g>
  
  <!-- Arrow marker definition -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#2c3e50"/>
    </marker>
  </defs>
</svg>